---
import MainLayout from '../layouts/MainLayout.astro'

import { Image } from 'astro:assets'

import about from '../images/about.jpg'
import team1 from '../images/team1.png'
import team2 from '../images/team2.png'
import team3 from '../images/team3.png'

const res = await fetch(
  'http://0.0.0.0:3350/api/profile/getProfiles?rowsPerPage=9999999&sortBy=id&page=1&profileUsers=true'
)
const data = await res.json()
const profile = data.profiles.data
console.log(profile)
---

<MainLayout title="About The TechPeople Blog">
  <h1 class="text-4xl font-bold mb-5">Lab</h1>

  <!-- Astro Components -->
  <div class="mt-10">
    <h2 class="text-3xl font-extrabold text-gray-900 mb-8">Astro Profiles</h2>
    <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-8">
      <div class="bg-white shadow-lg rounded-lg overflow-hidden">
        <Image src={team1} alt="Team Member 1" class="w-full h-auto" />
        <div class="p-6">
          <h3 class="text-xl font-semibold text-gray-900 mb-2">
            {profile[0].name}
          </h3>
          <p class="text-gray-70">{profile[0].email}</p>
        </div>
      </div>
      <div class="bg-white shadow-lg rounded-lg overflow-hidden">
        <Image src={team2} alt="Team Member 2" class="w-full h-auto" />
        <div class="p-6">
          <h3 class="text-xl font-semibold text-gray-900 mb-2">
            {profile[1].name}
          </h3>
          <p class="text-gray-70">{profile[1].email}</p>
        </div>
      </div>
      <div class="bg-white shadow-lg rounded-lg overflow-hidden">
        <Image src={team3} alt="Team Member 3" class="w-full h-auto" />
        <div class="p-6">
          <h3 class="text-xl font-semibold text-gray-900 mb-2">
            {profile[2].name}
          </h3>
          <p class="text-gray-70">{profile[2].email}</p>
        </div>
      </div>
    </div>
  </div>
</MainLayout>
